<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:ui="http://java.sun.com/jsf/facelets">
<h:head>
	<title>Bienvenido a Tuirer</title>
	<meta charset="utf-8"/>
	<meta name="viewport" content="width=device-width, initial-scale=1"/>
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"/>
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
	<ui:include src="/WEB-INF/template/menu.xhtml" />
</h:head>
<h:body>
<h:panelGroup styleClass="content content-boxed">
	<h:panelGroup styleClass="block">
	        <div class="block-content bg-primary-op text-center overflow-hidden">
	            <div class="push-30-t push animated fadeInDown">
	                <img class="img-avatar img-avatar96 img-avatar-thumb" src="/image/#{authMb.currentUser.image.path}"/>
	            </div>
	            <div class="push-30 animated fadeInUp">
	                <h2 class="h4 font-w600 text-white push-5"><h:outputText value="#{authMb.currentUser.username}"/></h2>
	                <h3 class="h5 text-white-op"><h:outputText value="#{authMb.currentUser.email}"/></h3>
	            </div>
	        </div>   
	</h:panelGroup>
    <h:form method="post" enctype="multipart/form-data">
        <h:panelGroup styleClass="block">
            <div class="block-content">
	            <div class="row items-push">
	                <div class="col-sm-6 col-sm-offset-3 form-horizontal">
	                    <div class="form-group">
	                        <div class="col-xs-6">
	                            <label>E-mail</label>
	                            <div class="form-control-static font-w700"><h:outputText value="#{authMb.currentUser.email}"/></div>
	                        </div>
	                    </div>
	                    <div class="form-group">
	                        <div class="col-xs-12">
	                            <label for="profile-email">Nombre de usuario</label>
	                             <div class="form-control-static font-w700"><h:outputText value="#{authMb.currentUser.username}"/></div>                          
	                        </div>
	                    </div>
	                    <div class="form-group">
                            <label class="col-xs-12" for="example-file-input">Foto de perfil</label>
                            <div class="col-xs-12">
                                <h:inputFile id="file" value="#{profileMb.file}" name="example-file-input"/>
                            </div>
                        </div>
	                </div>
	            </div>
                <div class="row items-push">
                    <div class="col-sm-6 col-sm-offset-3 form-horizontal">
                        <div class="form-group">
                            <div class="col-xs-12">
                                <label for="profile-password">Clave actual</label>                                
                                <h:inputSecret value="#{profileMb.oldPassword}" styleClass="form-control input-lg" id="profile-password" name="profile-password"></h:inputSecret>                                                             
                            </div>
                        </div>
                        <hr></hr>
                        <div class="form-group">
                            <div class="col-xs-12">
                                <label for="profile-password-new">Nueva clave</label>                                
                                <h:inputSecret value="#{profileMb.newPassword}" styleClass="form-control input-lg" id="profile-password-new" name="profile-password-new"></h:inputSecret>                                
                            </div>
                        </div>
                        <div class="form-group">
                            <div class="col-xs-12">
                                <label for="profile-password-new-confirm">Confirme nueva clave</label>                                
                                <h:inputSecret value="#{profileMb.confirmPassword}" styleClass="form-control input-lg" id="profile-password-new-confirm" name="profile-password-new-confirm"></h:inputSecret>                                 
                            </div>
                        </div>
                    </div>
                </div>
            </div>            
            <div class="block-content block-content-full bg-gray-lighter text-center">                
            	<h:commandLink action="#{profileMb.saveChanges()}" styleClass="btn btn-primary"><i class="fa fa-check push-5-r"></i>Guardar
				</h:commandLink>
				<h:commandLink action="#{profileMb.cancelChanges()}" styleClass="btn btn-sm btn-warning"><i class="fa fa-refresh push-5-r"></i>Cancelar
				</h:commandLink>
            </div>
        </h:panelGroup>
        <h:messages id="msges_profile" globalOnly="true" errorClass="alert alert-danger"/>	
    </h:form>
    <!-- END Main Content -->
</h:panelGroup>
</h:body>
</html>